/* Form Component Styles */
@layer components {
	/* 
	 * Form inputs - Match button styling for consistency
	 * Default size matches default button size (padding: 0.75rem 1.5rem)
	 * Use .form-input--small or .form-input--large for size variants
	 */
	.form-input {
		width: 100%;
		padding: 0.75rem 1.5rem;
		border: 1px solid var(--color-gray-300);
		border-radius: var(--radius-md);
		box-shadow: var(--shadow-xs);
		font-size: var(--text-sm);
		transition: all var(--transition-fast) ease;
		background-color: white;
	}

	.form-input:focus {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-input:disabled {
		background-color: var(--color-gray-50);
		color: var(--color-gray-500);
		cursor: not-allowed;
	}

	/* Override browser validation styling */
	.form-input:invalid {
		border-color: var(--color-gray-300);
		box-shadow: var(--shadow-xs);
	}

	.form-input:invalid:focus {
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-input.error {
		border-color: var(--color-error);
	}

	.form-input.error:focus {
		border-color: var(--color-error);
		box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
	}

	/* Size modifiers for form inputs */
	.form-input--small {
		padding: 0.5rem 1rem;
		font-size: var(--text-xs);
	}

	.form-input--large {
		padding: 1rem 2rem;
		font-size: var(--text-base);
	}

	/* Hide number input spinners */
	.form-input[type="number"] {
		-moz-appearance: textfield;
	}

	.form-input[type="number"]::-webkit-outer-spin-button,
	.form-input[type="number"]::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	.form-label {
		display: block;
		font-size: var(--text-sm);
		font-weight: 500;
		color: var(--color-gray-700);
		margin-bottom: 0.5rem;
	}

	.form-select {
		width: 100%;
		padding: 0.75rem 3rem 0.75rem 1.5rem;
		border: 1px solid var(--color-gray-300);
		border-radius: var(--radius-md);
		box-shadow: var(--shadow-xs);
		font-size: var(--text-sm);
		transition: all var(--transition-fast) ease;
		background-color: white;
		background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
		background-position: right 0.75rem center;
		background-repeat: no-repeat;
		background-size: 1.5em 1.5em;
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
		cursor: pointer;
	}

	.form-select:focus {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-select:disabled {
		background-color: var(--color-gray-50);
		color: var(--color-gray-500);
		cursor: not-allowed;
	}

	/* Size modifiers for form selects */
	.form-select--small {
		padding: 0.5rem 2.5rem 0.5rem 1rem;
		font-size: var(--text-xs);
		background-size: 1.25em 1.25em;
		background-position: right 0.75rem center;
	}

	.form-select--large {
		padding: 1rem 3.5rem 1rem 2rem;
		font-size: var(--text-base);
		background-size: 1.75em 1.75em;
		background-position: right 1rem center;
	}

	.form-textarea {
		width: 100%;
		padding: 0.75rem 1.5rem;
		border: 1px solid var(--color-gray-300);
		border-radius: var(--radius-md);
		box-shadow: var(--shadow-xs);
		font-size: var(--text-sm);
		transition: all var(--transition-fast) ease;
		background-color: white;
		resize: vertical;
		min-height: 6rem;
	}

	.form-textarea:focus {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-textarea:disabled {
		background-color: var(--color-gray-50);
		color: var(--color-gray-500);
		cursor: not-allowed;
	}

	/* Override browser validation styling for textarea */
	.form-textarea:invalid {
		border-color: var(--color-gray-300);
		box-shadow: var(--shadow-xs);
	}

	.form-textarea:invalid:focus {
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	/* Size modifiers for form textareas */
	.form-textarea--small {
		padding: 0.5rem 1rem;
		font-size: var(--text-xs);
		min-height: 4rem;
	}

	.form-textarea--large {
		padding: 1rem 2rem;
		font-size: var(--text-base);
		min-height: 8rem;
	}

	.form-checkbox {
		width: 1.125rem;
		height: 1.125rem;
		border: 2px solid var(--color-gray-300);
		border-radius: var(--radius-sm);
		background-color: white;
		transition: all var(--transition-fast) ease;
		cursor: pointer;
		position: relative;
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		/* Remove all browser focus styling */
		outline: none !important;
		outline-offset: 0 !important;
		box-shadow: none;
	}

	.form-checkbox:hover {
		border-color: var(--color-primary-400);
	}

	.form-checkbox:focus {
		outline: none !important;
		outline-offset: 0 !important;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100) !important;
	}

	.form-checkbox:focus-visible {
		outline: none !important;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100) !important;
	}

	.form-checkbox:active {
		outline: none !important;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100) !important;
	}

	.form-checkbox:checked {
		border-color: var(--color-primary-600);
		background-color: var(--color-primary-600);
	}

	.form-checkbox:checked:hover {
		border-color: var(--color-primary-700);
		background-color: var(--color-primary-700);
	}

	.form-checkbox:checked:focus {
		border-color: var(--color-primary-600);
		background-color: var(--color-primary-600);
		box-shadow: 0 0 0 3px var(--color-primary-100) !important;
	}

	/* Custom checkmark using CSS - properly centered */
	.form-checkbox:checked::before {
		content: '';
		width: 0.3rem;
		height: 0.6rem;
		border: 2px solid white;
		border-top: none;
		border-left: none;
		transform: rotate(45deg);
		/* Use margin auto for perfect centering */
		margin-top: -0.15rem;
		margin-left: 0.05rem;
	}

	.form-radio {
		width: 1.125rem;
		height: 1.125rem;
		color: var(--color-primary-600);
		border: 2px solid var(--color-gray-300);
		background-color: white;
		border-radius: 50%;
		transition: all var(--transition-fast) ease;
		cursor: pointer;
		position: relative;
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
	}

	.form-radio:hover {
		border-color: var(--color-primary-400);
	}

	.form-radio:focus {
		outline: none;
		outline-offset: 0;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-radio:focus-visible {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-radio:active {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-radio:checked {
		border-color: var(--color-primary-600);
		background-color: var(--color-primary-600);
	}

	.form-radio:checked:hover {
		border-color: var(--color-primary-700);
		background-color: var(--color-primary-700);
	}

	.form-radio:checked:focus {
		border-color: var(--color-primary-600);
		background-color: var(--color-primary-600);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-error {
		margin-top: 0.25rem;
		font-size: var(--text-sm);
		color: var(--color-error);
	}

	.form-help {
		margin-top: 0.25rem;
		font-size: var(--text-xs);
		color: var(--color-gray-500);
	}

	/* Loading spinner for forms */
	.form-spinner {
		width: 1rem;
		height: 1rem;
		border: 2px solid var(--color-primary-200);
		border-top-color: var(--color-primary-600);
		border-radius: 50%;
		animation: spin 1s linear infinite;
	}

	@keyframes spin {
		to {
			transform: rotate(360deg);
		}
	}

	/* Utility classes for form groups */
	.form-group {
		display: flex;
		gap: 0.5rem;
		align-items: stretch;
	}

	.form-group > .form-input,
	.form-group > .form-select {
		flex: 1;
	}

	/* When inputs and buttons are grouped together */
	.form-group--inline {
		display: flex;
		gap: 0.5rem;
		align-items: center;
	}

	/* Ensure consistent heights when grouped */
	.form-group--inline > .form-input--small,
	.form-group--inline > .form-select--small,
	.form-group--inline > .button--small {
		height: 2.25rem; /* 36px */
	}

	.form-group--inline > .form-input,
	.form-group--inline > .form-select,
	.form-group--inline > .button {
		height: 2.75rem; /* 44px */
	}

	.form-group--inline > .form-input--large,
	.form-group--inline > .form-select--large,
	.form-group--inline > .button--large {
		height: 3.5rem; /* 56px */
	}
} 